{% extends "base.html" %}

{% block title %}í…ŒìŠ¤íŠ¸ ëª¨ë“œ ì„ íƒ - ì˜¤ëŸ‰ì–´í•™ì‚¬ì „{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto py-12 text-center">
    
    <h2 class="text-3xl font-bold text-green-800 mb-4">ë‹¨ì–´ ì‹¤ë ¥ í…ŒìŠ¤íŠ¸</h2>
    <p class="text-gray-600 mb-12 text-lg">
        ì´ 10ë¬¸ì œê°€ ì¶œì œë©ë‹ˆë‹¤.<br>
        ìì‹ ì˜ ì‹¤ë ¥ì— ë§ëŠ” ëª¨ë“œë¥¼ ì„ íƒí•´ì„œ ë„ì „í•´ë³´ì„¸ìš”!
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 px-4 max-w-3xl mx-auto">
        <!-- ì´ì§€ ëª¨ë“œ -->
        {% if cooldowns.easy %}
        <div class="relative bg-white rounded-3xl shadow-lg border-2 border-gray-200 p-10 opacity-60 cursor-not-allowed">
            <div class="absolute top-4 right-4">
                <span class="bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full font-bold">ì¿¨ë‹¤ìš´</span>
            </div>
            <div class="text-6xl mb-6">ğŸ£</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3">ì´ì§€ ëª¨ë“œ</h3>
            <p class="text-gray-500 leading-relaxed mb-4">
                ì œì‹œëœ ëœ»ì„ ë³´ê³ <br>
                ì•Œë§ì€ ë‹¨ì–´ë¥¼ ê³ ë¥´ì„¸ìš”.<br>
                <span class="text-sm bg-green-100 text-green-700 px-2 py-0.5 rounded mt-2 inline-block">4ì§€ ì„ ë‹¤í˜•</span>
            </p>
            <div class="mt-4 p-3 bg-red-50 rounded-xl">
                <p class="text-xs text-red-600 mb-1">ë‹¤ìŒ ë„ì „ê¹Œì§€</p>
                <p class="text-lg font-bold text-red-700" id="easy-countdown" data-remaining="{{ cooldowns.easy }}">
                    ê³„ì‚° ì¤‘...
                </p>
            </div>
        </div>
        {% else %}
        <a href="/test/start/easy" class="group bg-white rounded-3xl shadow-lg border-2 border-green-50 p-10 hover:border-green-500 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
            <div class="text-6xl mb-6">ğŸ£</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-green-600">ì´ì§€ ëª¨ë“œ</h3>
            <p class="text-gray-500 leading-relaxed">
                ì œì‹œëœ ëœ»ì„ ë³´ê³ <br>
                ì•Œë§ì€ ë‹¨ì–´ë¥¼ ê³ ë¥´ì„¸ìš”.<br>
                <span class="text-sm bg-green-100 text-green-700 px-2 py-0.5 rounded mt-2 inline-block">4ì§€ ì„ ë‹¤í˜•</span>
            </p>
        </a>
        {% endif %}

        <!-- í•˜ë“œ ëª¨ë“œ -->
        {% if cooldowns.hard %}
        <div class="relative bg-white rounded-3xl shadow-lg border-2 border-gray-200 p-10 opacity-60 cursor-not-allowed">
            <div class="absolute top-4 right-4">
                <span class="bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full font-bold">ì¿¨ë‹¤ìš´</span>
            </div>
            <div class="text-6xl mb-6">ğŸ”¥</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3">í•˜ë“œ ëª¨ë“œ</h3>
            <p class="text-gray-500 leading-relaxed mb-4">
                ëœ»ì„ ë³´ê³ <br>
                ì •í™•í•œ ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.<br>
                <span class="text-sm bg-red-100 text-red-700 px-2 py-0.5 rounded mt-2 inline-block">ì£¼ê´€ì‹ íƒ€ì´í•‘</span>
            </p>
            <div class="mt-4 p-3 bg-red-50 rounded-xl">
                <p class="text-xs text-red-600 mb-1">ë‹¤ìŒ ë„ì „ê¹Œì§€</p>
                <p class="text-lg font-bold text-red-700" id="hard-countdown" data-remaining="{{ cooldowns.hard }}">
                    ê³„ì‚° ì¤‘...
                </p>
            </div>
        </div>
        {% else %}
        <a href="/test/start/hard" class="group bg-white rounded-3xl shadow-lg border-2 border-green-50 p-10 hover:border-red-500 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
            <div class="text-6xl mb-6">ğŸ”¥</div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3 group-hover:text-red-600">í•˜ë“œ ëª¨ë“œ</h3>
            <p class="text-gray-500 leading-relaxed">
                ëœ»ì„ ë³´ê³ <br>
                ì •í™•í•œ ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.<br>
                <span class="text-sm bg-red-100 text-red-700 px-2 py-0.5 rounded mt-2 inline-block">ì£¼ê´€ì‹ íƒ€ì´í•‘</span>
            </p>
        </a>
        {% endif %}
    </div>

</div>

<script>
function formatTime(minutes) {
    const mins = Math.floor(minutes);
    const secs = Math.floor((minutes - mins) * 60);
    return `${mins}ë¶„ ${secs}ì´ˆ`;
}

function updateCountdown(elementId) {
    const element = document.getElementById(elementId);
    if (!element) return;
    
    let remaining = parseFloat(element.getAttribute('data-remaining'));
    
    function update() {
        if (remaining <= 0) {
            location.reload();
            return;
        }
        
        element.textContent = formatTime(remaining);
        remaining -= 1/60; // 1ì´ˆì”© ê°ì†Œ
        
        setTimeout(update, 1000);
    }
    
    update();
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘
document.addEventListener('DOMContentLoaded', function() {
    updateCountdown('easy-countdown');
    updateCountdown('hard-countdown');
});
</script>
{% endblock %}
