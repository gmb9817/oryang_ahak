{% extends "base.html" %} {% block title %}회원정보 등록{% endblock %} {% block
content %}
<div
  class="max-w-3xl mx-auto bg-white border border-gray-200 rounded-2xl shadow-sm p-8"
>
  <div class="flex items-start justify-between mb-6">
    <div>
      <p class="text-sm text-gray-500 font-medium">구글 계정으로 로그인 완료</p>
      <h1 class="text-3xl font-bold text-gray-900 mt-1">
        학년 · 반 · 번호 · 이름 등록
      </h1>
      <p class="text-sm text-gray-500 mt-2">
        입력한 정보는 계정에 저장되어 다시 로그인해도 유지됩니다.
      </p>
    </div>
    <span
      class="px-3 py-1 rounded-full text-xs font-semibold bg-green-50 text-green-700 border border-green-100"
    >
      {{ user.email }}
    </span>
  </div>

  {% if errors %}
  <div
    class="mb-6 rounded-xl border border-red-200 bg-red-50 text-red-700 px-4 py-3 space-y-1"
  >
    {% for error in errors %}
    <p>• {{ error }}</p>
    {% endfor %}
  </div>
  {% endif %}

  <form method="POST" class="space-y-6">
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">학년</label>
        <input
          type="number"
          name="grade"
          min="1"
          max="3"
          value="{{ profile.grade or '' }}"
          required
          class="w-full rounded-xl border-gray-200 focus:border-green-500 focus:ring-0 bg-gray-50 px-4 py-3"
          placeholder="예: 1"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1"
          >반 (1~10)</label
        >
        <input
          type="number"
          name="class_number"
          min="1"
          max="10"
          value="{{ profile.class_number or '' }}"
          required
          class="w-full rounded-xl border-gray-200 focus:border-green-500 focus:ring-0 bg-gray-50 px-4 py-3"
          placeholder="예: 3"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">번호</label>
        <input
          type="number"
          name="student_number"
          min="1"
          max="50"
          value="{{ profile.student_number or '' }}"
          required
          class="w-full rounded-xl border-gray-200 focus:border-green-500 focus:ring-0 bg-gray-50 px-4 py-3"
          placeholder="예: 17"
        />
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">이름</label>
      <input
        type="text"
        name="name"
        value="{{ profile.name or '' }}"
        required
        class="w-full rounded-xl border-gray-200 focus:border-green-500 focus:ring-0 bg-gray-50 px-4 py-3"
        placeholder="예: 홍길동"
      />
    </div>

    <div
      class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"
    >
      <p class="text-sm text-gray-500">
        학년/반/번호는 1~10 반 기준으로 검증됩니다. 저장 후 바로 적용돼요.
      </p>
      <div class="flex gap-2">
        <a
          href="/"
          class="px-4 py-3 rounded-xl border border-gray-200 text-gray-700 hover:bg-gray-50 font-medium"
          >돌아가기</a
        >
        <button
          type="submit"
          class="px-5 py-3 rounded-xl bg-green-600 text-white font-semibold hover:bg-green-700 shadow-sm"
        >
          저장하기
        </button>
      </div>
    </div>
  </form>
</div>
{% endblock %}
